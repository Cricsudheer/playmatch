spring.application.name=playmatch
server.port=${PORT:8080}
server.shutdown=graceful
spring.lifecycle.timeout-per-shutdown-phase=10s

# --- Logging baseline (levels tuned later) ---
logging.level.root=INFO
logging.level.org.springframework.web=INFO
logging.level.com.example.app=INFO

# --- Actuator endpoints ---
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=never

# --- JPA validation-only (no DDL) ---
spring.jpa.open-in-view=false
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true
spring.jpa.properties.hibernate.format_sql=false
spring.sql.init.mode=never

# --- Profile Configuration ---
spring.profiles.active=dev,security

# --- User Management ---
spring.security.user.name=${ADMIN_USERNAME:admin}
spring.security.user.password=${ADMIN_PASSWORD:admin}

# --- Database Configuration ---
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/playmatch}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:postgres}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:postgres}

# --- Redis Configuration for Session Management ---
spring.redis.host=${REDIS_HOST:localhost}
spring.redis.port=${REDIS_PORT:6379}
spring.redis.password=${REDIS_PASSWORD:}

# --- Mail Configuration (for user registration) ---
spring.mail.host=${MAIL_HOST:smtp.gmail.com}
spring.mail.port=${MAIL_PORT:587}
spring.mail.username=${MAIL_USERNAME:your-email@gmail.com}
spring.mail.password=${MAIL_PASSWORD:your-app-specific-password}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# --- User Registration Configuration ---
app.user.registration.verification-required=${USER_VERIFICATION_REQUIRED:true}
app.user.registration.verification-expiry=${VERIFICATION_EXPIRY:86400}
app.security.jwt.secret-key=playmatch-dev-secret-which-is-long-enough-32chars

# --- MVP Configuration ---
app.mvp.invite-base-url=${MVP_INVITE_BASE_URL:http://localhost:8080/v2/mvp/invites}
app.mvp.otp.expiry-minutes=${MVP_OTP_EXPIRY:5}
app.mvp.otp.max-attempts=${MVP_OTP_MAX_ATTEMPTS:5}
app.mvp.otp.rate-limit-window-minutes=${MVP_OTP_RATE_WINDOW:10}
app.mvp.otp.max-requests-per-window=${MVP_OTP_MAX_REQUESTS:3}
app.mvp.emergency.lock-duration-minutes=${MVP_EMERGENCY_LOCK:60}
app.mvp.platform-fee=${MVP_PLATFORM_FEE:50}
