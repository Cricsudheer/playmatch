# --- PostgreSQL Database Configuration for Docker ---
spring.datasource.url=jdbc:postgresql://localhost:5432/playmatchdb
spring.datasource.username=playmatch
spring.datasource.password=playmatch
spring.datasource.driver-class-name=org.postgresql.Driver

# --- HikariCP Connection Pool Settings ---
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.validation-timeout=5000
spring.datasource.hikari.leak-detection-threshold=60000

# --- JPA/Hibernate Settings for Auto Schema Creation ---
spring.jpa.hibernate.ddl-auto=update
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults=false
spring.jpa.properties.hibernate.hbm2ddl.auto=update

# --- Redis Configuration for Docker ---
spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.ssl.enabled=false
spring.data.redis.timeout=2000ms
spring.data.redis.lettuce.pool.max-active=8
spring.data.redis.lettuce.pool.max-idle=8
spring.data.redis.lettuce.pool.min-idle=0

# --- Development Logging ---
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.orm.jdbc.bind=TRACE
logging.level.org.springframework.security=DEBUG

app.security.jwt.secret-key=playmatch-dev-secret-which-is-long-enough-32chars
app.security.jwt.expiration=3600000
app.security.jwt.refresh-token.expiration=86400000

# Password reset token expiration (15 minutes in milliseconds)
app.security.password-reset.expiration=900000

# CORS Configuration
app.security.cors.allowed-origins=*
app.security.cors.allowed-methods=GET,POST,PUT,PATCH,DELETE,OPTIONS
app.security.cors.allowed-headers=Authorization,Content-Type,X-Requested-With,Accept,Origin,Access-Control-Request-Method,Access-Control-Request-Headers
app.security.cors.exposed-headers=Access-Control-Allow-Origin,Access-Control-Allow-Credentials
app.security.cors.max-age=3600
